/* src/PageTrailers.css */

/* =========================
   PAGE + LAYOUT
   ========================= */
.pt-page{
  padding: 14px;
  padding-top: 0px;
}

.pt-header{
  margin-bottom: 12px;
}

.pt-headerRow{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
}

.pt-title{
  margin:0;
  font-size: 28px;
  font-weight: 900;
}

.pt-sub{
  margin-top: 6px;
  color: rgba(15,23,42,0.65);
  font-weight: 700;
  font-size: 13px;
}

.pt-headerActions{
  display:flex;
  gap:10px;
  align-items:center;
  margin-left: auto;
  justify-content: flex-end;
}

.pt-grid{
  display:grid;
  grid-template-columns: 360px 1fr;
  gap: 12px;
}

/* =========================
   CARDS
   ========================= */
.pt-card{
  background:#fff;
  border:1px solid rgba(15,23,42,0.10);
  border-radius:16px;
  padding: 12px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.06);
}

.pt-cardTitle{
  display:flex;
  align-items:center;
  justify-content:space-between;
  font-weight: 900;
  margin-bottom: 10px;
}

.pt-detailTitle{
  margin: 2px 0 12px;
  font-size: 28px;
  font-weight: 1000;
}

/* =========================
   FORMS / INPUTS / BUTTONS
   ========================= */
.pt-formRow{
  display:grid;
  gap: 8px;
  margin-bottom: 10px;
}

.pt-input,
.pt-select{
  height: 42px;
  border-radius: 12px;
  border: 1px solid rgba(15,23,42,0.10);
  padding: 0 12px;
  outline: none;
  width: 100%;
  box-sizing: border-box;
  background:#fff;
  font-weight: 800;
}

.pt-search{
  max-width: 420px;
}

.pt-btn{
  height: 42px;
  border-radius: 12px;
  border: none;
  background: #111827;
  color: #fff;
  font-weight: 900;
  padding: 0 14px;
  cursor: pointer;
}

.pt-btn:disabled{
  opacity: 0.5;
  cursor: not-allowed;
}

.pt-btnGhost{
  background:#fff;
  color:#111827;
  border: 1px solid rgba(15,23,42,0.12);
}

.pt-btnSwap{
  background:#0f172a;
}

.pt-btnDanger{
  height: 24px;
  width: 34px;
  border-radius: 10px;
  border: 1px solid rgba(239,68,68,0.35);
  background: rgba(239,68,68,0.12);
  cursor: pointer;
  font-weight: 1000;
  padding: 0;
  line-height: 1;
}

.pt-btnDangerWide{
  height: 42px;
  border-radius: 12px;
  border: 1px solid rgba(239,68,68,0.35);
  background: rgba(239,68,68,0.12);
  cursor: pointer;
  font-weight: 1000;
  padding: 0 14px;
}

/* =========================
   LISTE TRAILERS (LEFT)
   ========================= */
.pt-list{
  display:grid;
  gap: 8px;
}

.pt-trailerRow{
  border: 1px solid rgba(15,23,42,0.10);
  border-radius: 14px;
  padding: 10px;
  cursor: pointer;
}

.pt-trailerRowActive{
  border-color: rgba(79,70,229,0.35);
  background: rgba(79,70,229,0.06);
}

.pt-trailerName{
  font-weight: 950;
}

.pt-trailerMeta{
  margin-top: 3px;
  font-size: 12px;
  color: rgba(15,23,42,0.65);
  font-weight: 800;
}

.pt-footHint{
  font-size: 12px;
  color: rgba(15,23,42,0.65);
  font-weight: 800;
}

/* =========================
   SECTIONS / CATEGORIES (RIGHT)
   ========================= */
.pt-empty{
  padding: 6px 8px;
  border-radius: 10px;
  border: 1px dashed rgba(15,23,42,0.14);
  background: rgba(15,23,42,0.02);
  color: rgba(15,23,42,0.60);
  font-weight: 750;
  font-size: 12px;
  line-height: 1.1;
}

.pt-emptyMini{
  padding: 4px 8px;
  font-size: 11px;
  line-height: 1.05;
  font-weight: 700;
}

.pt-cats{
  display:grid;
  gap: 12px;
}

.pt-section{
  border: 1px solid rgba(15,23,42,0.12);
  border-radius: 16px;
  padding: 10px;
}

.pt-sectionHead{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
}

.pt-sectionName{
  font-weight: 950;
}

.pt-catMeta{
  color: rgba(15,23,42,0.65);
  font-weight: 900;
  font-size: 12px;
}

/* =========================
   TABLE (ULTRA COMPACT)
   ========================= */
.pt-tableWrap{
  overflow-x: auto;
  margin-top: 6px;
}

.pt-table{
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  background: rgba(255,255,255,0.75);
  border-radius: 12px;
  overflow: hidden;
}

.pt-th{
  text-align: left;
  padding: 4px 6px;
  font-size: 11px;
  font-weight: 950;
  color: rgba(15,23,42,0.75);
  border-bottom: 1px solid rgba(15,23,42,0.12);
  background: rgba(255,255,255,0.6);
  position: sticky;
  top: 0;
  z-index: 1;
  white-space: nowrap;
  line-height: 1.05;
  vertical-align: middle;
}

.pt-td{
  padding: 3px 6px;
  border-bottom: 1px solid rgba(15,23,42,0.08);
  font-size: 12px;
  font-weight: 800;
  line-height: 1.05;
  vertical-align: middle;
}

.pt-td > div{
  font-size: 12px;
  font-weight: 950;
  line-height: 1.05;
  margin: 0;
}

.pt-table tbody tr:hover td{
  background: rgba(15,23,42,0.03);
}
.pt-table tbody tr:nth-child(even) td{
  background: rgba(255,255,255,0.55);
}

/* =========================
   FIX: Recherche à côté du titre de la catégorie
   ========================= */
.pt-sectionHead{
  align-items: center;
  gap: 10px;
}

.pt-sectionLeft{
  display: flex;
  align-items: center;
  gap: 12px;
  flex: 1;
  min-width: 0;
}

.pt-sectionName{
  display: flex;
  align-items: center;
  gap: 10px;
  flex: 1;
  min-width: 0;
  font-weight: 950;
}

.pt-sectionName span:last-child{
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* override width:100% de .pt-input */
.pt-catSearch{
  width: 220px !important;
  flex: 0 0 220px !important;
  height: 34px !important;
  border-radius: 12px;
}

.pt-sectionRight{
  display:flex;
  align-items:center;
  gap: 10px;
}

/* =========================
   FIX: Scroll vertical max ~10 items
   ========================= */
.pt-tableWrapScroll10{
  max-height: 420px !important;
  overflow-y: auto !important;
  overflow-x: auto !important;
  scrollbar-gutter: stable;
}

/* =========================
   Titre trailer + recherche sur 1 ligne
   ========================= */
.pt-detailHead{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  margin: 2px 0 12px;
}

.pt-detailTitleNoMargin{
  margin: 0 !important;
}

.pt-searchInline{
  max-width: 420px;
  flex: 0 0 420px;
}

@media (max-width: 900px){
  .pt-detailHead{
    flex-wrap: wrap;
    align-items: flex-start;
  }
  .pt-searchInline{
    flex: 1 1 320px;
    max-width: 100%;
  }
}

/* =========================
   Bouton échange fixé
   ========================= */
.pt-btnSwapFixed{
  position: fixed;
  left: 18px;
  top: 92px;
  z-index: 80;
}

@media (max-width: 900px){
  .pt-btnSwapFixed{
    left: 12px;
    top: 86px;
  }
}

/* =========================
   MODALS
   ========================= */
.pt-modalOverlay{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.35);
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 16px;
  z-index: 50;
}

.pt-modal{
  width: min(920px, 100%);
  background:#fff;
  border-radius: 18px;
  border: 1px solid rgba(15,23,42,0.12);
  box-shadow: 0 20px 55px rgba(0,0,0,0.25);
  overflow: hidden;
}

.pt-modalSmall{
  width: min(520px, 100%);
}

.pt-modalHead{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 12px 14px;
  border-bottom: 1px solid rgba(15,23,42,0.10);
}

.pt-modalTitle{
  font-weight: 1000;
  font-size: 16px;
}

.pt-modalClose{
  height: 34px;
  width: 34px;
  border-radius: 12px;
  border: 1px solid rgba(15,23,42,0.12);
  background:#fff;
  cursor:pointer;
  font-weight: 1000;
}

.pt-modalBody{
  padding: 12px 14px;
}

.pt-modalBlock{
  border: 1px solid rgba(15,23,42,0.10);
  border-radius: 14px;
  padding: 12px;
  background: rgba(15,23,42,0.03);
}

.pt-modalLabel{
  font-weight: 950;
  margin: 10px 0 6px;
}

.pt-modalHint{
  margin-top: 10px;
  font-size: 12px;
  color: rgba(15,23,42,0.65);
  font-weight: 800;
}

.pt-modalFoot{
  display:flex;
  justify-content:flex-end;
  gap: 10px;
  padding: 12px 14px;
  border-top: 1px solid rgba(15,23,42,0.10);
}

.pt-modalGrid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

.pt-qtyTop{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap: 10px;
  margin-bottom: 10px;
}

.pt-qtyTitle{
  font-weight: 1000;
  font-size: 16px;
}

.pt-qtyCurrent{
  color: rgba(15,23,42,0.70);
  font-weight: 900;
}

.pt-qtyActions{
  display:flex;
  gap: 10px;
  margin-top: 10px;
}

/* ✅ Enlever spinners input number */
.pt-noSpin{
  appearance: textfield;
  -moz-appearance: textfield;
}
.pt-noSpin::-webkit-outer-spin-button,
.pt-noSpin::-webkit-inner-spin-button{
  -webkit-appearance: none;
  margin: 0;
}

/* =========================
   DRAG & DROP (items)
   ========================= */
.pt-draggableRow{
  cursor: grab;
}
.pt-draggableRow:active{
  cursor: grabbing;
}
.pt-dragHandle{
  opacity: 0.55;
  font-weight: 1000;
  line-height: 1;
  user-select: none;
}
.pt-draggableRow:hover .pt-dragHandle{
  opacity: 0.9;
}

/* =========================
   Bris / Réparation (Rail droite) — UI PRO
   ========================= */
.pr-rail{
  display: grid;
  gap: 12px;

  /* ✅ FIX: pousse le panneau plus à droite (vers le bord de la page) */
  transform: translateX(200px);
}

/* Card de base */
.pr-card{
  background:#fff;
  border:1px solid rgba(15,23,42,0.10);
  border-radius:16px;
  padding: 12px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.06);
}

.pr-headTop{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 12px;
}

.pr-title{
  font-size: 16px;
  font-weight: 1000;
  line-height: 1.1;
}

.pr-sub{
  margin-top: 6px;
  font-size: 12px;
  color: rgba(15,23,42,0.70);
  font-weight: 800;
  line-height: 1.25;
}

.pr-badges{
  display:flex;
  gap: 8px;
  flex-wrap: wrap;
  justify-content: flex-end;
}

.pr-pill{
  display:inline-flex;
  align-items:center;
  gap: 6px;
  padding: 6px 10px;
  border-radius: 999px;
  font-weight: 950;
  font-size: 12px;
  border: 1px solid rgba(15,23,42,0.10);
  background: rgba(15,23,42,0.02);
}

.pr-pillRed{
  border-color: rgba(239,68,68,0.30);
  background: rgba(239,68,68,0.10);
  color: rgba(127,29,29,0.95);
}

.pr-pillAmber{
  border-color: rgba(245,158,11,0.30);
  background: rgba(245,158,11,0.10);
  color: rgba(120,53,15,0.95);
}

/* Dropzone */
.pr-dropZone{
  margin-top: 10px;
  border: 2px dashed rgba(15,23,42,0.18);
  background: rgba(15,23,42,0.02);
  border-radius: 16px;
  padding: 12px;
  display:flex;
  gap: 12px;
  align-items:center;
  user-select: none;
  transition: 120ms ease;
}

.pr-dropZoneOver{
  border-color: rgba(79,70,229,0.55);
  background: rgba(79,70,229,0.08);
  transform: translateY(-1px);
}

.pr-dropZoneDisabled{
  opacity: 0.55;
  cursor: not-allowed;
}

.pr-dropIcon{
  width: 44px;
  height: 44px;
  border-radius: 14px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight: 1000;
  background: rgba(15,23,42,0.06);
}

.pr-dropText{
  min-width: 0;
}

.pr-dropTitle{
  font-weight: 1000;
}

.pr-dropHint{
  margin-top: 2px;
  font-size: 12px;
  color: rgba(15,23,42,0.65);
  font-weight: 850;
}

/* Form ajout manuel */
.pr-form{
  margin-top: 10px;
  display:grid;
  grid-template-columns: 1fr 90px auto;
  gap: 10px;
  align-items:center;
}

.pr-inputTight{
  height: 38px !important;
  border-radius: 14px;
}

.pr-inputQty{
  height: 38px !important;
  border-radius: 14px;
  text-align: center;
  font-weight: 1000 !important;
}

.pr-btnTight{
  height: 38px !important;
  border-radius: 14px;
  padding: 0 12px !important;
}

/* Sections */
.pr-sectionHead{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
  margin-bottom: 8px;
}

.pr-sectionTitle{
  display:flex;
  align-items:center;
  gap: 8px;
  font-weight: 1000;
}

.pr-sectionMeta{
  font-size: 12px;
  color: rgba(15,23,42,0.65);
  font-weight: 900;
}

.pr-dot{
  width: 10px;
  height: 10px;
  border-radius: 999px;
}

.pr-dotRed{ background: rgba(239,68,68,0.95); }
.pr-dotAmber{ background: rgba(245,158,11,0.95); }

.pr-empty{
  padding: 10px;
  border-radius: 14px;
  border: 1px dashed rgba(15,23,42,0.14);
  background: rgba(15,23,42,0.02);
  font-weight: 850;
  color: rgba(15,23,42,0.60);
}

/* Liste */
.pr-list{
  display:grid;
  gap: 8px;
}

.pr-row{
  border: 1px solid rgba(15,23,42,0.10);
  background: rgba(255,255,255,0.85);
  border-radius: 14px;
  padding: 10px;
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 10px;
}

.pr-rowMain{
  min-width: 0;
}

.pr-rowName{
  font-weight: 1000;
  line-height: 1.15;
}

.pr-rowMeta{
  margin-top: 4px;
  font-size: 12px;
  color: rgba(15,23,42,0.70);
  font-weight: 850;
}

.pr-rowActions{
  display:flex;
  gap: 8px;
  align-items:center;
  flex: 0 0 auto;
}

/* Boutons rail */
.pr-btn{
  height: 34px;
  border-radius: 12px;
  border: none;
  cursor: pointer;
  font-weight: 950;
  padding: 0 10px;
  background: #111827;
  color: #fff;
}

.pr-btnGhost{
  background:#fff;
  color:#111827;
  border: 1px solid rgba(15,23,42,0.14);
}

.pr-btnDanger{
  background: rgba(239,68,68,0.10);
  color: rgba(127,29,29,0.95);
  border: 1px solid rgba(239,68,68,0.35);
  width: 40px;
  padding: 0;
}

/* Meta réparation */
.pr-repairMeta{
  margin-top: 6px;
  display:flex;
  gap: 8px;
  flex-wrap: wrap;
}

.pr-miniPill{
  display:inline-flex;
  align-items:center;
  gap: 6px;
  padding: 5px 8px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 900;
  border: 1px solid rgba(15,23,42,0.10);
  background: rgba(15,23,42,0.03);
  color: rgba(15,23,42,0.75);
}

.pr-note{
  margin-top: 6px;
  font-size: 12px;
  font-weight: 900;
  color: rgba(15,23,42,0.70);
  line-height: 1.25;
}

/* Modal grid */
.pr-modalGrid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}
.pr-span2{
  grid-column: span 2;
}

/* Responsive rail */
@media (max-width: 900px){
  .pr-rail{
    transform: translateX(0); /* ✅ pas de décalage sur mobile */
  }

  .pr-form{
    grid-template-columns: 1fr 90px;
  }
  .pr-btnTight{
    grid-column: 1 / -1;
  }
  .pr-modalGrid{
    grid-template-columns: 1fr;
  }
  .pr-span2{
    grid-column: span 1;
  }
}
